{"version":3,"sources":["../../../src/commands/config/update.ts"],"sourcesContent":["import { Config } from '@oclif/core';\nimport path from 'node:path';\n\nimport BaseCommand from '../../base-command';\nimport { getUserConfigExists, updateUserConfig } from '../../utilities/config.utilities';\n\n/**\n * Handles local user configuration\n *\n * @see https://oclif.io/docs/config\n */\nexport default class InitUserConfig extends BaseCommand {\n  static description = 'Update local .condohub config';\n\n  static examples = [`$ condohub config update`];\n\n  constructor(argv: string[], config: Config) {\n    super(argv, config, { name: 'config:update' });\n  }\n\n  async run() {\n    const { args } = await this.parse(InitUserConfig);\n    const configPath = path.join(this.config.configDir, 'config.json');\n    const userConfigExist = await getUserConfigExists(this.config);\n\n    if (!userConfigExist) {\n      this.logCommand(`no config.json found in ${configPath}, did you run 'condohub config init'?`);\n      return;\n    }\n    this.logCommand(`config.json found in ${configPath}`);\n    const userConfig = await updateUserConfig(this.config);\n    this.logCommand(`config.json updated successfully`);\n  }\n}\n"],"names":["InitUserConfig","BaseCommand","description","examples","constructor","argv","config","name","run","args","parse","configPath","path","join","configDir","userConfigExist","getUserConfigExists","logCommand","userConfig","updateUserConfig"],"mappings":"AAAA;;;;;AACiB,IAAA,SAAW,kCAAX,WAAW,EAAA;AAEJ,IAAA,YAAoB,kCAApB,oBAAoB,EAAA;AACU,IAAA,gBAAkC,WAAlC,kCAAkC,CAAA;AAOzE,MAAMA,cAAc,SAASC,YAAW,QAAA;IACrD,OAAOC,WAAW,GAAG,+BAA+B,CAAC;IAErD,OAAOC,QAAQ,GAAG;QAAC,CAAC,wBAAwB,CAAC;KAAC,CAAC;IAE/CC,YAAYC,IAAc,EAAEC,MAAc,CAAE;QAC1C,KAAK,CAACD,IAAI,EAAEC,MAAM,EAAE;YAAEC,IAAI,EAAE,eAAe;SAAE,CAAC,CAAC;KAChD;IAED,MAAMC,GAAG,GAAG;QACV,MAAM,EAAEC,IAAI,CAAA,EAAE,GAAG,MAAM,IAAI,CAACC,KAAK,CAACV,cAAc,CAAC,AAAC;QAClD,MAAMW,UAAU,GAAGC,SAAI,QAAA,CAACC,IAAI,CAAC,IAAI,CAACP,MAAM,CAACQ,SAAS,EAAE,aAAa,CAAC,AAAC;QACnE,MAAMC,eAAe,GAAG,MAAMC,CAAAA,GAAAA,gBAAmB,AAAa,CAAA,oBAAb,CAAC,IAAI,CAACV,MAAM,CAAC,AAAC;QAE/D,IAAI,CAACS,eAAe,EAAE;YACpB,IAAI,CAACE,UAAU,CAAC,CAAC,wBAAwB,EAAEN,UAAU,CAAC,qCAAqC,CAAC,CAAC,CAAC;YAC9F,OAAO;SACR;QACD,IAAI,CAACM,UAAU,CAAC,CAAC,qBAAqB,EAAEN,UAAU,CAAC,CAAC,CAAC,CAAC;QACtD,MAAMO,UAAU,GAAG,MAAMC,CAAAA,GAAAA,gBAAgB,AAAa,CAAA,iBAAb,CAAC,IAAI,CAACb,MAAM,CAAC,AAAC;QACvD,IAAI,CAACW,UAAU,CAAC,CAAC,gCAAgC,CAAC,CAAC,CAAC;KACrD;CACF;kBAtBoBjB,cAAc"}